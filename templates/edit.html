<!DOCTYPE html>
<html>
<head>
    <title>Edit Book - BookTracker</title>
    <style>
        body {font-family:system-ui;margin:40px;background:#f9f9f9;}
        label {display:inline-block;width:160px;font-weight:bold;}
        input, textarea {padding:8px;width:400px;border-radius:6px;border:1px solid #ccc;}
        button {padding:10px 20px;font-size:16px;margin-top:20px;}
    </style>
</head>
<body>
<h1>Edit: {{ book.title }}</h1>

<form method="post">
    <p><label>Title:</label>     <input name="title" value="{{ book.title }}" required></p>
    <p><label>Author:</label>    <input name="author" value="{{ book.author }}" required></p>
    <p><label>ISBN-13:</label>   <input name="isbn13" value="{{ book.isbn13 or '' }}"></p>
    <p><label>ISBN-10:</label>   <input name="isbn10" value="{{ book.isbn10 or '' }}"></p>
    <p><label>LCCN:</label>      <input name="lccn" value="{{ book.lccn or '' }}"></p>
    <p><label>Copies:</label>    <input name="copies" type="number" min="1" value="{{ book.copies }}" required></p>

    <!-- NEW: Cover URL field -->
    <p><label>Cover URL:</label> <input name="cover_url" value="{{ book.cover_url or '' }}" size="70" placeholder="https://example.com/cover.jpg"></p>

    <hr>
    <h3>Personal Info</h3>
    <p><label>Purchase Price ($):</label> <input name="purchase_price" type="number" step="0.01" value="{{ book.purchase_price }}"></p>
    <p><label>Date Purchased:</label>   <input name="date_purchased" type="date" value="{{ book.date_purchased }}"></p>
    <p><label>Date Read:</label>        <input name="date_read" type="date" value="{{ book.date_read }}"></p>
    <p><label>Comment:</label><br>
       <textarea name="comment" rows="4">{{ book.comment or '' }}</textarea></p>

<h3>Edition Details</h3>

<div class="form-group">
    <label for="publisher">Publisher</label>
    <input type="text" name="publisher" id="publisher" value="{{ book.publisher or '' }}">
</div>

<div class="form-group">
    <label for="publication_date">Publication Date</label>
    <input type="date" name="publication_date" id="publication_date" value="{{ book.publication_date.strftime('%Y-%m-%d') if book.publication_date else '' }}">
</div>

<div class="form-group">
    <label for="pages">Number of Pages</label>
    <input type="number" name="pages" id="pages" value="{{ book.pages if book.pages is not none else '' }}">
</div>

<div class="form-group">
    <label for="book_format">Format</label>
    <input type="text" name="book_format" id="book_format" value="{{ book.book_format or '' }}" placeholder="e.g., Paperback, EPUB">
</div>

<div class="form-group">
    <label for="dimensions">Physical Dimensions</label>
    <input type="text" name="dimensions" id="dimensions" value="{{ book.dimensions or '' }}" placeholder='e.g., 4.25" x 7" x 1"'>
</div>

<h3>DAW-Specific</h3>

<div class="form-group">
    <label for="daw_book_number">DAW Book/Collector Number</label>
    <input type="number" name="daw_book_number" id="daw_book_number" value="{{ book.daw_book_number if book.daw_book_number is not none else '' }}">
</div>

<div class="form-group">
    <label for="daw_catalog_number">DAW Catalog Number (6 chars)</label>
    <input type="text" name="daw_catalog_number" id="daw_catalog_number" maxlength="6" value="{{ book.daw_catalog_number or '' }}">
</div>

    <button type="submit">Save Changes</button>
    <a href="/">Cancel</a>
</form>
</body>
</html>
